package uuv;

public class UUV implements Runnable{
	int portNumber = -1;
	
	public UUV(int portNumber){
		this.portNumber = portNumber;
	}
	
	
	/** 3 Sensors */
	static String sensorRates[] = { "5,4,4",//	"5,4,4",	"5,4,4",
									"5,4,1",//	"5,4,2",	"5,4,2",
									"5,4,4",// 	"5,4,4",	"5,4,4",
									"5,2,4",//	"5,2,4",	"5,2,4",  
									"5,4,4",// 	"5,4,4",	"5,4,4",
//									"5,4,3",	"5,4,3",	"5,4,3",									
//									"5,4,4", 	"5,4,4",	"5,4,4",
									"5,1,1",	"5,1,1",	"5,1,1",
									"5,4,4",// 	"5,4,4",	"5,4,4",
								  };	
	
	/** 4 Sensors */
//	static String sensorRates[] = { "5,4,4,4",	"5,4,4,4",	"5,4,4,4", 
//									"5,4,2,4",	"5,4,2,4",	"5,4,2,4",
//									"5,4,4,4",	"5,4,4,4",	"5,4,4,4", 
//									"5,2,4,4",	"5,2,4,4",	"5,2,4,4",	
//									"5,4,4,4",	"5,4,4,4",	"5,4,4,4", 
//									"5,4,3,4",	"5,4,3,4",	"5,4,3,4",								
//									"5,4,4,4",	"5,4,4,4",	"5,4,4,4", 
//									"5,1,1,4",	"5,1,1,4",	"5,1,1,4",	
//									"5,4,4,4",	"5,4,4,4",	"5,4,4,4", 
//								  };

	/** 5 Sensors */
//	static String sensorRates[] = { "5,4,4,4,4",	"5,4,4,4,4",	"5,4,4,4,4",
//									"5,4,2,4,4,4",	"5,4,2,4,4,4",	"5,4,2,4,4,4",
//									"5,4,4,4,4,4",	"5,4,4,4,4,4",	"5,4,4,4,4,4", 
//									"5,2,4,4,4,4",	"5,2,4,4,4,4",	"5,2,4,4,4,4",		
//									"5,4,4,4,4,4",	"5,4,4,4,4,4",	"5,4,4,4,4,4", 
//									"5,4,3,4,4,4",	"5,4,3,4,4,4",	"5,4,3,4,4,4",									
//									"5,4,4,4,4,4",	"5,4,4,4,4,4",	"5,4,4,4,4,4", 
//									"5,1,1,4,4,4",	"5,1,1,4,4,4",	"5,1,1,4,4,4",	
//									"5,4,4,4,4,4",	"5,4,4,4,4,4",	"5,4,4,4,4,4", 
//								  };
	
	
	/** 6 Sensors */
//	static String sensorRates[] = { "5,4,4,4,4,4",	"5,4,4,4,4,4",	"5,4,4,4,4,4",
//									"5,4,2,4,4,4",	"5,4,2,4,4,4",	"5,4,2,4,4,4",
//									"5,4,4,4,4,4",	"5,4,4,4,4,4",	"5,4,4,4,4,4", 
//									"5,2,4,4,4,4",	"5,2,4,4,4,4",	"5,2,4,4,4,4",		
//									"5,4,4,4,4,4",	"5,4,4,4,4,4",	"5,4,4,4,4,4", 
//									"5,4,3,4,4,4",	"5,4,3,4,4,4",	"5,4,3,4,4,4",									
//									"5,4,4,4,4,4",	"5,4,4,4,4,4",	"5,4,4,4,4,4", 
//									"5,1,1,4,4,4",	"5,1,1,4,4,4",	"5,1,1,4,4,4",	
//									"5,4,4,4,4,4",	"5,4,4,4,4,4",	"5,4,4,4,4,4", 
//								  };

	/** 8 Sensors */
//	static String sensorRates[] = { "5,4,4,4,4,4,3,3",	"5,4,4,4,4,4,3,3",	"5,4,4,4,4,4,3,3",
////									"5,4,2,4,4,4",	"5,4,2,4,4,4",	"5,4,2,4,4,4",
////									"5,4,4,4,4,4",	"5,4,4,4,4,4",	"5,4,4,4,4,4", 
////									"5,2,4,4,4,4",	"5,2,4,4,4,4",	"5,2,4,4,4,4",		
////									"5,4,4,4,4,4",	"5,4,4,4,4,4",	"5,4,4,4,4,4", 
////									"5,4,3,4,4,4",	"5,4,3,4,4,4",	"5,4,3,4,4,4",									
////									"5,4,4,4,4,4",	"5,4,4,4,4,4",	"5,4,4,4,4,4", 
////									"5,1,1,4,4,4",	"5,1,1,4,4,4",	"5,1,1,4,4,4",	
////									"5,4,4,4,4,4",	"5,4,4,4,4,4",	"5,4,4,4,4,4", 
//								  };

	
	public static void main(String[] args) {	
			new UUV(-1).run();
	}
	
	
	public void run(){
		try{
			long startTime = System.currentTimeMillis();
			long timeStamp;
			int messagesSent = 0;
			TCPClient tcpClient = new TCPClient("127.0.0.1", portNumber);
		
			for (String rates : sensorRates){
				timeStamp = System.currentTimeMillis() - startTime; 
				System.out.print((timeStamp/1000.0) +"("+messagesSent++ +")\tRates:\t" + rates);	
		
				String configuration = tcpClient.send(rates);				
				System.out.println("\t\tConfiguration:\t" + configuration);	
				Thread.sleep(1000);
			}
			
			tcpClient.send("STOP");
							
		}
		catch (Exception e){
			e.printStackTrace();
		}
	}

}
